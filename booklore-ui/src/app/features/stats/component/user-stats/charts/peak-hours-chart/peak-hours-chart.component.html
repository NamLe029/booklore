<div class="peak-hours-container">
  <div class="chart-header">
    <div class="chart-title">
      <h3>
        <i class="pi pi-clock peak-hours-icon"></i>
        Peak Reading Hours
        <i class="pi pi-question-circle chart-info-icon"
           pTooltip="Shows the number of reading sessions and total reading time for each hour of the day (midnight to 11pm). Filter by year and month to see how your habits shift over time. The peak hour highlights when you read the most."
           tooltipPosition="bottom"
           tooltipStyleClass="chart-info-tooltip"
           [appendTo]="'body'"></i>
      </h3>
      <p class="chart-description">Reading activity by hour of the day</p>
    </div>
    <div class="filter-controls">
      <p-select
        [options]="yearOptions"
        [(ngModel)]="selectedYear"
        (onChange)="onFilterChange()"
        optionLabel="label"
        optionValue="value"
        placeholder="Select Year"
        [style]="{'min-width': '100px'}">
      </p-select>
      <p-select
        [options]="monthOptions"
        [(ngModel)]="selectedMonth"
        (onChange)="onFilterChange()"
        optionLabel="label"
        optionValue="value"
        placeholder="Select Month"
        [style]="{'min-width': '130px'}">
      </p-select>
    </div>
  </div>
  <div class="chart-wrapper">
    <canvas baseChart
            [data]="(chartData$ | async) ?? {labels: [], datasets: []}"
            [options]="chartOptions"
            [type]="chartType">
    </canvas>
  </div>
</div>
